# 配置文件

为方便玩家自定义 LCD 绘制，在 `shlcd` 目录下提供了 `config.json` 配置文件。LCD 依赖此文件进行绘制，请勿删除或重命名。

配置文件为 JSON 格式，默认内容如下：

```json
{
    "allowOverflow": true,
    "showDepotName": true,
    "showDoorOpenInfo": true,
    "showManualStatus": true,
    "showPlatformNumber": true,
    "leftPartCjkCycle": {
        "cjk": 5,
        "nonCjk": 5
    },
    "rightPartScreenCycle": {
        "comingNext": 5,
        "fullRouteMap": 10
    },
    "fullRouteMapCjkCycle": {
        "cjk": 5,
        "nonCjk": 5
    }
}
```

下面分别介绍这些配置的功能。

## 元素显示配置

| JSON 属性名称            | 预期值                      | 含义                                                           |
|--------------------------|-----------------------------|----------------------------------------------------------------|
| **`allowOverflow`**      | `true` (是) 或 `false` (否) | 在全线信息屏幕中，是否允许换乘信息长度超出表示该站的平行四边形。如果否，对于较长的路线名称，将缩小字号以便完整绘制。 |
| **`showDepotName`**      | `true` (是) 或 `false` (否) | 是否显示车厂名称。显示车厂名称的场景有：1) 列车在回库前的最后一个站台停靠时，左信息区显示的目的地；2) 列车在出库和回库的路径上时，右信息区“即将到达”屏幕的底端。如果否，则用 `车厂\|Depot` 代替。 |
| **`showDoorOpenInfo`**   | `true` (是) 或 `false` (否) | 是否显示无法开门提示。停站开门时，当由于站台长度不足等原因导致列车部分车门无法正常开启时，将在“已到达”屏幕底端显示此提示。如果一侧的车门均无法开启（通常是由于这一侧没有站台），这一侧不会被显示。 |
| **`showManualStatus`**   | `true` (是) 或 `false` (否) | 是否在左信息区“开往”字符左侧显示手动驾驶信息。如果是，则：1) 对于自动驾驶列车，不会显示；2) 对于未处于手动驾驶状态的手动驾驶列车，以空心矩形显示 `手动驾驶列车\|Manual allowed`；3) 对于正处于手动驾驶状态的手动驾驶列车，以实心矩形显示 `正在手动驾驶\|Manually driving`。如果否，则始终不会显示。|
| **`showPlatformNumber`** | `true` (是) 或 `false` (否) | 是否在“已到达”屏幕右上角显示站台编号。 |

## 切屏间隔配置

### `leftPartCjkCycle`

左信息区中英切换的间隔配置。

| JSON 属性名称 | 预期值 | 含义                            |
|---------------|--------|---------------------------------|
| **`cjk`**     | 数字   | 显示 CJK 字符 (中文) 的秒数。   |
| **`nonCjk`**  | 数字   | 显示非 CJK 字符 (英文) 的秒数。 |

> [!NOTE] 注意
> 如果当前路线名称（`||` 之前的部分）仅包含中文（如 `测试线||上行`），将不会切换到英文；如果仅包含英文（如 `Test Line||上行`），将不会切换到中文。

### `rightPartScreenCycle`

右信息区切换屏幕的间隔配置。

| JSON 属性名称      | 预期值 | 含义                       |
|--------------------|--------|----------------------------|
| **`comingNext`**   | 数字   | 显示“即将到达”屏幕的秒数。 |
| **`fullRouteMap`** | 数字   | 显示全线线路图的秒数。     |

### `fullRouteMapCjkCycle`

右信息区全线线路图中英切换的间隔配置。

| JSON 属性名称 | 预期值 | 含义                            |
|---------------|--------|---------------------------------|
| **`cjk`**     | 数字   | 显示 CJK 字符 (中文) 的秒数。   |
| **`nonCjk`**  | 数字   | 显示非 CJK 字符 (英文) 的秒数。 |

> [!NOTE] 注意
> 如果当前路线名称（`||` 之前的部分）仅包含中文（如 `测试线||上行`），将不会切换到英文；如果仅包含英文（如 `Test Line||上行`），将不会切换到中文。